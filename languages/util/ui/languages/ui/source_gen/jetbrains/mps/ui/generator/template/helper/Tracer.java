package jetbrains.mps.ui.generator.template.helper;

/*Generated by MPS */

import jetbrains.mps.smodel.SNode;

public class Tracer {
  private static boolean TRACE_ENABLED = true;

  public Tracer() {
  }

  public static void trace(String msg, SNode... nodes) {
    if (TRACE_ENABLED) {
      StackTraceElement[] st = Thread.currentThread().getStackTrace();
      StackTraceElement te = st[2];
      /*
        String cn = te.getClassName().replaceFirst("^.*\\.([^\\.]+)$", "$1");
        String pn = te.getClassName().replaceFirst("\\$.*$", "").replaceFirst("\\.[^\\.]+$", "");
      */
      StringBuffer sb = new StringBuffer();
      sb.append("***** ").append(msg).append(" (");
      String sep = "";
      for (SNode n : nodes) {
        sb.append(sep).append((n != null ?
          n.getId() :
          "null"
        ));
        sep = ", ";
      }
      sb.append(")");
      System.out.println(sb.toString());
      System.out.println("    at " + te.toString());
    }
  }
}
